(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();const $="/hippo-english-game/assets/soundNo-CfWvAgdT.mp3",V="/hippo-english-game/assets/soundYes-bHlQI4kD.mp3",q=["Рыба","Трава","Орехи","Водяные растения","Сено","Листья","Фрукты (яблоки, арбузы, бананы)","Огурцы","Морковь","Конфеты","Капуста","Свёкла","Лук","Чеснок","Тыква","Брокколи","Мясо","Цитрусовые (апельсины, лимоны, грейпфруты)","Чай","Картофель","Грибы"],D=["Fish","Grass","Nuts","Aquatic plants","Hay","Leaves","Fruits (apples, watermelons, bananas)","Cucumbers","Carrots","Candies","Cabbage","Beets","Onion","Garlic","Pumpkin","Broccoli","Meat","Citrus fruits (oranges, lemons, grapefruits)","Tea","Potatoes","Mushrooms"],I=["Трава","Водяные растения","Сено","Листья","Фрукты (яблоки, арбузы, бананы)","Огурцы","Морковь","Капуста","Свёкла","Тыква","Брокколи"],X=["Grass","Aquatic plants","Hay","Leaves","Fruits (apples, watermelons, bananas)","Cucumbers","Carrots","Cabbage","Beets","Pumpkin","Broccoli"],o=e=>document.querySelector(e),p=e=>e.style.display="none",u=e=>e.style.display="block";function d({node:e,act:t="add",className:s="buttonHide"}={}){({add:()=>e.classList.add(s),remove:()=>e.classList.remove(s)})[t]()}let c="Ru";const j=e=>c=e;let m=!0;const K=e=>m=e,g=e=>e==="En",P=(e,t)=>{e.forEach(s=>d({node:s})),t.forEach(s=>d({node:s,act:"remove"}))};function Q(e,t,s){const[a,n,i,r]=Array.from(document.querySelectorAll(".controlPanelBtn")),h=o(".congratulationWrapRu"),S=o(".congratulationWrap");U(),s(c,e),t({lang:c}),g(c)?(u(S),p(h),P([n,r],[a,i])):(u(h),p(S),P([a,i],[n,r]))}function U(){const e=o(".language");j(e.textContent==="Ru"?"En":"Ru"),e.textContent=c}function z(){const e=o(".volumeYes"),t=o(".volumeNo");K(!m),m?(d({node:e,act:"remove"}),d({node:t})):(d({node:t,act:"remove"}),d({node:e}))}const J=o(".busket"),L=o(".food"),R=document.querySelectorAll(".hippo")[0],F=o(".hippoYes"),x=o(".hippoNo"),N=o(".score").firstElementChild,O=({lang:e="Ru",value:t=0,reset:s=!1})=>{let[a,n]=N.textContent.split(" ");a=g(e)?"Score":"Очки",N.textContent=`${a} ${s?0:Number(n)+t}`};function A(e,t){let s=g(e)?D:q;t.innerHTML="",s.forEach(a=>{t.insertAdjacentHTML("beforeend",`<li class="liView"><h1 data-species="${a}" >${a}</h1></li>`)})}const Z=new Audio(V),_=new Audio($),ee=o(".audio");ee.addEventListener("click",()=>{z()});const B=o(".endOfGameBackground");let C=!1,b="";A(c,L);document.addEventListener("mousedown",te);let l=null,f=null;const H=()=>{f==="yes"&&p(F),f==="no"&&p(x),u(R),f=null};function te(e){e.preventDefault(),e.target.tagName==="H1"&&(C=!0,H(),e.target.classList.contains("duplicate")?l=e.target:(l=e.target.cloneNode(!0),l.classList.add("duplicate"),e.target.parentNode.classList.toggle("liView"),l.classList.add("liView"),e.target.style.visibility="hidden",document.body.append(l),l.style.padding="0.8rem 0.7rem",l.style.position="absolute"),document.addEventListener("mousemove",T),document.addEventListener("mouseup",oe,{once:!0}))}function T(e){e.preventDefault(),C&&(l.style.left=`${e.pageX-l.offsetWidth/2}px`,l.style.top=`${e.pageY-l.offsetHeight/2}px`)}function oe(e){if(C=!1,b=`${e.pageX},${e.pageY}`,ne(b),b="",Array.from(L.children).filter(s=>s.classList.contains("liView")).length===0&&f){const s=o(".endOfGame");setTimeout(()=>{u(s),u(B)},1e3)}document.removeEventListener("mousemove",T)}function ne(e){const[t,s]=e.split(","),{top:a,bottom:n,left:i,right:r}=J.getBoundingClientRect();if(t>=i&&t<=r&&s>=a&&s<=n){let h=l.dataset.species;p(R),l.remove(),se(h)?(u(F),f="yes",O({lang:c,value:10}),m&&Z.play()):(u(x),f="no",m&&_.play())}}function se(e){return(g(c)?X:I).includes(e)}const ie=o(".buttonLang");ie.addEventListener("click",()=>Q(L,O,A));const y=o(".controlPanelShowListEn"),v=o(".controlPanelShowListRu"),ae=o(".endOfGame"),le=o(".btnClose"),G=o(".listOfAllowedFood");let E=!1;le.addEventListener("click",Y);const W=o(".congratulationWrap"),k=o(".hippoEndOfGame"),M=o(".congratulationWrapRu");function w(e=[],t=[]){e.forEach(u),t.forEach(p)}function Y(){E&&(w([g(c)?W:M,k]),g(c)?(y.classList.remove("buttonHide"),v.classList.add("buttonHide")):(v.classList.remove("buttonHide"),y.classList.add("buttonHide")),G.classList.toggle("active"),E=!1),w([],[ae,B]),H()}const ce=o(".controlPanel");ce.addEventListener("click",e=>{e.target.classList.contains("controlPanelShowList")&&(w([],[W,M,k]),y.classList.add("buttonHide"),v.classList.add("buttonHide"),E=!0,G.classList.toggle("active")),e.target.classList.contains("controlPanelplayAgain")&&(Y(),A(c,L),H(),O({lang:c,reset:!0}))});
