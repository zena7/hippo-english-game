(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function i(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=i(o);fetch(o.href,s)}})();const M="/hippo-english-game/assets/soundNo-CfWvAgdT.mp3",W="/hippo-english-game/assets/soundYes-bHlQI4kD.mp3",Y=["Рыба","Трава","Орехи","Водяные растения","Сено","Листья","Фрукты (яблоки, арбузы, бананы)","Огурцы","Морковь","Конфеты","Капуста","Свёкла","Лук","Чеснок","Тыква","Брокколи","Мясо","Цитрусовые (апельсины, лимоны, грейпфруты)","Чай","Картофель","Грибы"],q=["Fish","Grass","Nuts","Aquatic plants","Hay","Leaves","Fruits (apples, watermelons, bananas)","Cucumbers","Carrots","Candies","Cabbage","Beets","Onion","Garlic","Pumpkin","Broccoli","Meat","Citrus fruits (oranges, lemons, grapefruits)","Tea","Potatoes","Mushrooms"],V=["Трава","Водяные растения","Сено","Листья","Фрукты (яблоки, арбузы, бананы)","Огурцы","Морковь","Капуста","Свёкла","Тыква","Брокколи"],D=["Grass","Aquatic plants","Hay","Leaves","Fruits (apples, watermelons, bananas)","Cucumbers","Carrots","Cabbage","Beets","Pumpkin","Broccoli"],e=t=>document.querySelector(t),f=t=>t.style.display="none",u=t=>t.style.display="block";let c="Ru";const I=t=>t==="En";function X(t,n){const[i,a,o,s]=Array.from(document.querySelectorAll(".controlPanelBtn")),r=e(".congratulationWrapRu"),p=e(".congratulationWrap");j(),H(c,t),n({lang:c}),I(c)?(u(p),f(r),i.classList.remove("buttonHide"),a.classList.add("buttonHide"),o.classList.remove("buttonHide"),s.classList.add("buttonHide")):(u(r),f(p),a.classList.remove("buttonHide"),s.classList.remove("buttonHide"),i.classList.add("buttonHide"),o.classList.add("buttonHide"))}function j(){const t=e(".language");c=t.textContent==="Ru"?"En":"Ru",t.textContent=c}function H(t,n){let i=t==="Ru"?Y:q;n.innerHTML="",i.forEach(a=>{n.insertAdjacentHTML("beforeend",`<li class="liView"><h1 data-species="${a}" >${a}</h1></li>`)})}document.querySelectorAll(".volumeBtn");let g=!0;function K(){const t=e(".volumeYes"),n=e(".volumeNo");g=!g,g?(t.classList.remove("buttonHide"),n.classList.add("buttonHide")):(n.classList.remove("buttonHide"),t.classList.add("buttonHide"))}function S(){return g}const Q=e(".busket"),L=e(".food"),N=document.querySelectorAll(".hippo")[0],P=e(".hippoYes"),R=e(".hippoNo"),m=t=>t==="En",C=e(".score").firstElementChild,w=({lang:t="Ru",value:n=0,reset:i=!1})=>{let[a,o]=C.textContent.split(" ");a=m(t)?"Score":"Очки",C.textContent=`${a} ${i?0:Number(o)+n}`},U=new Audio(W),z=new Audio(M),J=e(".audio");J.addEventListener("click",()=>{K()});const F=e(".endOfGameBackground");let A=!1,b="";H(c,L);document.addEventListener("mousedown",Z);let l=null,d=null;const O=()=>{d==="yes"&&f(P),d==="no"&&f(R),u(N),d=null};function Z(t){t.preventDefault(),t.target.tagName==="H1"&&(A=!0,O(),t.target.classList.contains("duplicate")?l=t.target:(l=t.target.cloneNode(!0),l.classList.add("duplicate"),t.target.parentNode.classList.toggle("liView"),l.classList.add("liView"),t.target.style.visibility="hidden",document.body.append(l),l.style.padding="0.8rem 0.7rem",l.style.position="absolute"),document.addEventListener("mousemove",x),document.addEventListener("mouseup",_,{once:!0}))}function x(t){t.preventDefault(),A&&(l.style.left=`${t.pageX-l.offsetWidth/2}px`,l.style.top=`${t.pageY-l.offsetHeight/2}px`)}function _(t){if(A=!1,b=`${t.pageX},${t.pageY}`,tt(b),b="",Array.from(L.children).filter(i=>i.classList.contains("liView")).length===0&&d){const i=e(".endOfGame");setTimeout(()=>{u(i),u(F)},1e3)}document.removeEventListener("mousemove",x)}function tt(t){const[n,i]=t.split(","),{top:a,bottom:o,left:s,right:r}=Q.getBoundingClientRect();if(n>=s&&n<=r&&i>=a&&i<=o){let p=l.dataset.species;f(N),l.remove(),et(p)?(u(P),d="yes",w({lang:c,value:10}),S()&&U.play()):(u(R),d="no",S()&&z.play())}}function et(t){return(m(c)?D:V).includes(t)}const ot=e(".buttonLang");ot.addEventListener("click",()=>X(L,w));const h=e(".controlPanelShowListEn"),v=e(".controlPanelShowListRu"),nt=e(".endOfGame"),st=e(".btnClose"),B=e(".listOfAllowedFood");let y=!1;st.addEventListener("click",k);const G=e(".congratulationWrap"),T=e(".hippoEndOfGame"),$=e(".congratulationWrapRu");function E(t=[],n=[]){t.forEach(u),n.forEach(f)}function k(){y&&(E([m(c)?G:$,T]),m(c)?(h.classList.remove("buttonHide"),v.classList.add("buttonHide")):(v.classList.remove("buttonHide"),h.classList.add("buttonHide")),B.classList.toggle("active"),y=!1),E([],[nt,F]),O()}const it=e(".controlPanel");it.addEventListener("click",t=>{t.target.classList.contains("controlPanelShowList")&&(E([],[G,$,T]),h.classList.add("buttonHide"),v.classList.add("buttonHide"),y=!0,B.classList.toggle("active")),t.target.classList.contains("controlPanelplayAgain")&&(k(),H(c,L),O(),w({lang:c,reset:!0}))});
