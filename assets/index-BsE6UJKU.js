(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();const V="/hippo-english-game/assets/soundNo-CfWvAgdT.mp3",q="/hippo-english-game/assets/soundYes-bHlQI4kD.mp3",D=["Рыба","Трава","Орехи","Водяные растения"],M=["Fish","Grass","Nuts","Aquatic plants"],I=["Трава","Водяные растения","Сено","Листья","Фрукты (яблоки, арбузы, бананы)","Огурцы","Морковь","Капуста","Свёкла","Тыква","Брокколи"],X=["Grass","Aquatic plants","Hay","Leaves","Fruits (apples, watermelons, bananas)","Cucumbers","Carrots","Cabbage","Beets","Pumpkin","Broccoli"],o=e=>document.querySelector(e),p=e=>e.style.display="none",d=e=>e.style.display="block";function u({node:e,act:t="add",className:s="buttonHide"}={}){({add:()=>e.classList.add(s),remove:()=>e.classList.remove(s)})[t]()}let c="Ru";const j=e=>c=e;let m=!0;const K=e=>m=e,g=e=>e==="En",N=(e,t)=>{e.forEach(s=>u({node:s})),t.forEach(s=>u({node:s,act:"remove"}))};function Q(e,t,s){const[a,n,i,r]=Array.from(document.querySelectorAll(".controlPanelBtn")),h=o(".congratulationWrapRu"),C=o(".congratulationWrap");U(),s(c,e),t({lang:c}),g(c)?(d(C),p(h),N([n,r],[a,i])):(d(h),p(C),N([a,i],[n,r]))}function U(){const e=o(".language");j(e.textContent==="Ru"?"En":"Ru"),e.textContent=c}function z(){const e=o(".volumeYes"),t=o(".volumeNo");K(!m),m?(u({node:e,act:"remove"}),u({node:t})):(u({node:t,act:"remove"}),u({node:e}))}const J=o(".busket"),L=o(".food"),P=document.querySelectorAll(".hippo")[0],x=o(".hippoYes"),F=o(".hippoNo"),R=o(".score").firstElementChild,A=({lang:e="Ru",value:t=0,reset:s=!1})=>{let[a,n]=R.textContent.split(" ");a=g(e)?"Score":"Очки",R.textContent=`${a} ${s?0:Number(n)+t}`};function O(e,t){let s=g(e)?M:D;t.innerHTML="",s.forEach(a=>{t.insertAdjacentHTML("beforeend",`<li class="liView"><h1 data-species="${a}" >${a}</h1></li>`)})}const Z=new Audio(q),_=new Audio(V),ee=o(".audio");ee.addEventListener("click",()=>{z()});const T=o(".endOfGameBackground");let H=!1,b="";O(c,L);document.addEventListener("mousedown",te);let l=null,f=null;const S=()=>{f==="yes"&&p(x),f==="no"&&p(F),d(P),f=null};function te(e){e.preventDefault(),e.target.tagName==="H1"&&(H=!0,S(),e.target.classList.contains("duplicate")?l=e.target:(l=e.target.cloneNode(!0),l.classList.add("duplicate"),e.target.parentNode.classList.toggle("liView"),l.classList.add("liView"),e.target.style.visibility="hidden",document.body.append(l),l.style.padding="0.8rem 0.7rem",l.style.position="absolute"),document.addEventListener("mousemove",B),document.addEventListener("mouseup",oe,{once:!0}))}function B(e){e.preventDefault(),H&&(l.style.left=`${e.pageX-l.offsetWidth/2}px`,l.style.top=`${e.pageY-l.offsetHeight/2}px`)}function oe(e){if(H=!1,b=`${e.pageX},${e.pageY}`,ne(b),b="",Array.from(L.children).filter(s=>s.classList.contains("liView")).length===0&&f){const s=o(".endOfGame");setTimeout(()=>{d(s),d(T)},1e3)}document.removeEventListener("mousemove",B)}function ne(e){const[t,s]=e.split(","),{top:a,bottom:n,left:i,right:r}=J.getBoundingClientRect();if(t>=i&&t<=r&&s>=a&&s<=n){let h=l.dataset.species;p(P),l.remove(),se(h)?(d(x),f="yes",A({lang:c,value:10}),m&&Z.play()):(d(F),f="no",m&&_.play())}}function se(e){return(g(c)?X:I).includes(e)}const ie=o(".buttonLang");ie.addEventListener("click",()=>Q(L,A,O));const y=o(".controlPanelShowListEn"),v=o(".controlPanelShowListRu"),ae=o(".endOfGame"),le=o(".btnClose"),G=o(".listOfAllowedFood");let E=!1;le.addEventListener("click",k);const W=o(".congratulationWrap"),Y=o(".hippoEndOfGame"),$=o(".congratulationWrapRu");function w(e=[],t=[]){e.forEach(d),t.forEach(p)}function k(){E&&(w([g(c)?W:$,Y]),g(c)?(y.classList.remove("buttonHide"),v.classList.add("buttonHide")):(v.classList.remove("buttonHide"),y.classList.add("buttonHide")),G.classList.toggle("active"),E=!1),w([],[ae,T]),S()}const ce=o(".controlPanel");ce.addEventListener("click",e=>{e.target.classList.contains("controlPanelShowList")&&(w([],[W,$,Y]),y.classList.add("buttonHide"),v.classList.add("buttonHide"),E=!0,G.classList.toggle("active")),e.target.classList.contains("controlPanelplayAgain")&&(k(),O(c,L),S(),A({lang:c,reset:!0}))});
