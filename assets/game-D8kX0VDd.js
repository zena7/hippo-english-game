const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/firefly-B43XRzwI.js","assets/style-CqPbzQPE.js","assets/style-CUA3yJcm.css"])))=>i.map(i=>d[i]);
import"./style-CqPbzQPE.js";const K="modulepreload",Q=function(t){return"/hippo-english-game/"+t},H={},w=function(e,o,s){let d=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));d=Promise.allSettled(o.map(c=>{if(c=Q(c),c in H)return;H[c]=!0;const y=c.endsWith(".css"),j=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${j}`))return;const u=document.createElement("link");if(u.rel=y?"stylesheet":K,y||(u.as="script"),u.crossOrigin="",u.href=c,l&&u.setAttribute("nonce",l),document.head.appendChild(u),y)return new Promise((z,J)=>{u.addEventListener("load",z),u.addEventListener("error",()=>J(new Error(`Unable to preload CSS for ${c}`)))})}))}function p(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return d.then(i=>{for(const l of i||[])l.status==="rejected"&&p(l.reason);return e().catch(p)})},Z=["Рыба","Трава","Орехи","Водяные растения","Сено","Листья","Фрукты (яблоки, арбузы, бананы)","Огурцы","Морковь","Конфеты","Капуста","Свёкла","Лук","Чеснок","Тыква","Брокколи","Цитрусовые (апельсины, лимоны, грейпфруты)","Мясо","Чай","Картофель","Грибы"],tt=["Fish","Grass","Nuts","Aquatic plants","Hay","Leaves","Fruits (apples, watermelons, bananas)","Cucumbers","Carrots","Candies","Cabbage","Beets","Onion","Garlic","Pumpkin","Broccoli","Meat","Citrus fruits (oranges, lemons, grapefruits)","Tea","Potatoes","Mushrooms"],et=["Трава","Водяные растения","Сено","Листья","Фрукты (яблоки, арбузы, бананы)","Огурцы","Морковь","Капуста","Свёкла","Тыква","Брокколи"],ot=["Grass","Aquatic plants","Hay","Leaves","Fruits (apples, watermelons, bananas)","Cucumbers","Carrots","Cabbage","Beets","Pumpkin","Broccoli"],n=t=>document.querySelector(t),nt=t=>Array.from(document.querySelectorAll(t)),h=t=>t.style.display="none",f=t=>t.style.display="block";function g({node:t,act:e="add",className:o="buttonHide"}={}){({add:()=>t.classList.add(o),remove:()=>t.classList.remove(o)})[e]()}let r="Ru";const st=t=>r=t;let E=!0;const at=t=>E=t;let it=window.localStorage.getItem("userName");const L=t=>t==="En",$=(t,e)=>{t.forEach(o=>g({node:o})),e.forEach(o=>g({node:o,act:"remove"}))};function lt(t,e,o){const[s,d,p,i]=Array.from(document.querySelectorAll(".controlPanelBtn")),l=n(".congratulationWrapRu"),c=n(".congratulationWrap");rt(),o(r,t),e({lang:r}),L(r)?(f(c),h(l),$([d,i],[s,p])):(f(l),h(c),$([s,p],[d,i]))}function rt(){const t=n(".language");st(t.textContent==="Ru"?"En":"Ru"),t.textContent=r}function ct(){const t=n(".volumeYes"),e=n(".volumeNo");at(!E),E?(g({node:t,act:"remove"}),g({node:e})):(g({node:e,act:"remove"}),g({node:t}))}const dt=n(".busket"),v=n(".food"),Y=document.querySelectorAll(".hippo")[0],N=n(".hippoYes"),G=n(".hippoNo");window.addEventListener("load",()=>{document.querySelector(".game-page").classList.add("loaded")});const T=n(".score").firstElementChild,R=({lang:t="Ru",value:e=0,reset:o=!1})=>{let[s,d]=T.textContent.split(" ");s=L(t)?"Score":"Очки",T.textContent=`${s} ${o?0:Number(d)+e}`};function O(t,e){let o=L(t)?tt:Z;e.innerHTML="",o.forEach(s=>{e.insertAdjacentHTML("beforeend",`<li class="liView"><h1 data-species="${s}" >${s}</h1></li>`)})}let x,_;async function V(){const[t,e]=await Promise.all([w(()=>import("./soundYes-BMo5Oc2B.js"),[]),w(()=>import("./soundNo-BqRD4oS2.js"),[])]);x=new Audio(t.default),_=new Audio(e.default)}window.addEventListener("load",V);const ut=n(".audio");ut.addEventListener("click",async()=>{(!x||!_)&&await V(),ct()});function ft(t){nt(".nameFromStorage").forEach(o=>{let[s,d]=o.textContent.split("!");o.textContent=`${s}, ${t??""}!`})}ft(it);const q=n(".endOfGameBackground");let F=!1,b="";O(r,v);document.addEventListener("mousedown",pt);let a=null,m=null;const k=()=>{m==="yes"&&h(N),m==="no"&&h(G),f(Y),m=null};function pt(t){if(t.preventDefault(),t.target.tagName==="H1"){F=!0,k();const e=t.target.getBoundingClientRect(),o=t.pageX-e.left,s=t.pageY-e.top;t.target.classList.contains("duplicate")?a=t.target:(a=t.target.cloneNode(!0),a.classList.add("duplicate"),t.target.parentNode.classList.toggle("liView"),a.classList.add("liView"),t.target.style.visibility="hidden",a.style.left=`${t.pageX-o}px`,a.style.top=`${t.pageY-s}px`,document.body.append(a),a.style.padding="0.8rem 0.7rem",a.style.position="absolute"),a.dataset.offsetX=o,a.dataset.offsetY=s,document.addEventListener("mousemove",D),document.addEventListener("mouseup",gt,{once:!0})}}function D(t){if(t.preventDefault(),F){const e=parseFloat(a.dataset.offsetX),o=parseFloat(a.dataset.offsetY);a.style.left=`${t.pageX-e}px`,a.style.top=`${t.pageY-o}px`}}function gt(t){if(F=!1,b=`${t.pageX},${t.pageY}`,mt(b),b="",Array.from(v.children).filter(o=>o.classList.contains("liView")).length===0&&m){const o=n(".endOfGame");setTimeout(()=>{f(o),f(q)},1e3)}document.removeEventListener("mousemove",D)}function mt(t){const[e,o]=t.split(","),{top:s,bottom:d,left:p,right:i}=dt.getBoundingClientRect();if(e>=p&&e<=i&&o>=s&&o<=d){let l=a.dataset.species;h(Y),a.remove(),ht(l)?(f(N),m="yes",R({lang:r,value:10}),E&&x.play()):(f(G),m="no",E&&_.play())}}function ht(t){return(L(r)?ot:et).includes(t)}const Lt=n(".buttonLang");Lt.addEventListener("click",()=>lt(v,R,O));const A=n(".controlPanelShowListEn"),S=n(".controlPanelShowListRu"),Et=n(".endOfGame"),yt=n(".btnClose"),W=n(".listOfAllowedFood");let C=!1;yt.addEventListener("click",U);const X=n(".congratulationWrap"),I=n(".hippoEndOfGame"),M=n(".congratulationWrapRu");function P(t=[],e=[]){t.forEach(f),e.forEach(h)}function U(){C&&(P([L(r)?X:M,I]),L(r)?(A.classList.remove("buttonHide"),S.classList.add("buttonHide")):(S.classList.remove("buttonHide"),A.classList.add("buttonHide")),W.classList.toggle("active"),C=!1),P([],[Et,q]),k()}const B=n(".controlPanel");B.addEventListener("click",t=>{t.target.classList.contains("controlPanelShowList")&&(P([],[X,M,I]),A.classList.add("buttonHide"),S.classList.add("buttonHide"),C=!0,W.classList.toggle("active"),B.style.top="1%"),t.target.classList.contains("controlPanelplayAgain")&&(U(),O(r,v),k(),R({lang:r,reset:!0}))});window.addEventListener("load",async()=>{const{createFirefly:t}=await w(async()=>{const{createFirefly:e}=await import("./firefly-B43XRzwI.js");return{createFirefly:e}},__vite__mapDeps([0,1,2]));t()});export{n as g};
