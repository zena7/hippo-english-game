const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/firefly-CpKS8B-x.js","assets/style-DT9r6p30.js","assets/style-Dekul8L1.css"])))=>i.map(i=>d[i]);
import"./style-DT9r6p30.js";const K="modulepreload",Q=function(t){return"/hippo-english-game/"+t},H={},b=function(e,o,s){let d=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),i=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));d=Promise.allSettled(o.map(c=>{if(c=Q(c),c in H)return;H[c]=!0;const y=c.endsWith(".css"),j=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${j}`))return;const u=document.createElement("link");if(u.rel=y?"stylesheet":K,y||(u.as="script"),u.crossOrigin="",u.href=c,i&&u.setAttribute("nonce",i),document.head.appendChild(u),y)return new Promise((z,J)=>{u.addEventListener("load",z),u.addEventListener("error",()=>J(new Error(`Unable to preload CSS for ${c}`)))})}))}function g(l){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l}return d.then(l=>{for(const i of l||[])i.status==="rejected"&&g(i.reason);return e().catch(g)})},Z=["Рыба","Трава","Орехи","Водяные растения","Сено","Листья","Фрукты (яблоки, арбузы, бананы)","Огурцы","Морковь","Конфеты","Капуста","Свёкла","Лук","Чеснок","Тыква","Брокколи","Цитрусовые (апельсины, лимоны, грейпфруты)","Мясо","Чай","Картофель","Грибы"],tt=["Fish","Grass","Nuts","Aquatic plants","Hay","Leaves","Fruits (apples, watermelons, bananas)","Cucumbers","Carrots","Candies","Cabbage","Beets","Onion","Garlic","Pumpkin","Broccoli","Meat","Citrus fruits (oranges, lemons, grapefruits)","Tea","Potatoes","Mushrooms"],et=["Трава","Водяные растения","Сено","Листья","Фрукты (яблоки, арбузы, бананы)","Огурцы","Морковь","Капуста","Свёкла","Тыква","Брокколи"],ot=["Grass","Aquatic plants","Hay","Leaves","Fruits (apples, watermelons, bananas)","Cucumbers","Carrots","Cabbage","Beets","Pumpkin","Broccoli"],n=t=>document.querySelector(t),nt=t=>Array.from(document.querySelectorAll(t)),h=t=>t.style.display="none",f=t=>t.style.display="block";function p({node:t,act:e="add",className:o="buttonHide"}={}){({add:()=>t.classList.add(o),remove:()=>t.classList.remove(o)})[e]()}let r="Ru";const st=t=>r=t;let E=!0;const at=t=>E=t;let lt=window.localStorage.getItem("userName");const L=t=>t==="En",$=(t,e)=>{t.forEach(o=>p({node:o})),e.forEach(o=>p({node:o,act:"remove"}))};function it(t,e,o){const[s,d,g,l]=Array.from(document.querySelectorAll(".controlPanelBtn")),i=n(".congratulationWrapRu"),c=n(".congratulationWrap");rt(),o(r,t),e({lang:r}),L(r)?(f(c),h(i),$([d,l],[s,g])):(f(i),h(c),$([s,g],[d,l]))}function rt(){const t=n(".language");st(t.textContent==="Ru"?"En":"Ru"),t.textContent=r}function ct(){const t=n(".volumeYes"),e=n(".volumeNo");at(!E),E?(p({node:t,act:"remove"}),p({node:e})):(p({node:e,act:"remove"}),p({node:t}))}const dt=n(".busket"),v=n(".food"),N=document.querySelectorAll(".hippo")[0],Y=n(".hippoYes"),G=n(".hippoNo");console.log("MAIN.js is connected");window.addEventListener("load",()=>{console.log("main js loaded"),document.querySelector(".game-page").classList.add("loaded"),console.log("Page is loaded")});const T=n(".score").firstElementChild,R=({lang:t="Ru",value:e=0,reset:o=!1})=>{let[s,d]=T.textContent.split(" ");s=L(t)?"Score":"Очки",T.textContent=`${s} ${o?0:Number(d)+e}`};function O(t,e){let o=L(t)?tt:Z;e.innerHTML="",o.forEach(s=>{e.insertAdjacentHTML("beforeend",`<li class="liView"><h1 data-species="${s}" >${s}</h1></li>`)})}let x,_;async function V(){const[t,e]=await Promise.all([b(()=>import("./soundYes-BMo5Oc2B.js"),[]),b(()=>import("./soundNo-BqRD4oS2.js"),[])]);x=new Audio(t.default),_=new Audio(e.default)}window.addEventListener("load",V);const ut=n(".audio");ut.addEventListener("click",async()=>{(!x||!_)&&await V(),ct()});function ft(t){nt(".nameFromStorage").forEach(o=>{let[s,d]=o.textContent.split("!");o.textContent=`${s}, ${t??""}!`})}ft(lt);const q=n(".endOfGameBackground");let k=!1,w="";O(r,v);document.addEventListener("mousedown",gt);let a=null,m=null;const F=()=>{m==="yes"&&h(Y),m==="no"&&h(G),f(N),m=null};function gt(t){if(t.preventDefault(),t.target.tagName==="H1"){k=!0,F();const e=t.target.getBoundingClientRect(),o=t.pageX-e.left,s=t.pageY-e.top;t.target.classList.contains("duplicate")?a=t.target:(a=t.target.cloneNode(!0),a.classList.add("duplicate"),t.target.parentNode.classList.toggle("liView"),a.classList.add("liView"),t.target.style.visibility="hidden",a.style.left=`${t.pageX-o}px`,a.style.top=`${t.pageY-s}px`,document.body.append(a),a.style.padding="0.8rem 0.7rem",a.style.position="absolute"),a.dataset.offsetX=o,a.dataset.offsetY=s,document.addEventListener("mousemove",D),document.addEventListener("mouseup",pt,{once:!0})}}function D(t){if(t.preventDefault(),k){const e=parseFloat(a.dataset.offsetX),o=parseFloat(a.dataset.offsetY);a.style.left=`${t.pageX-e}px`,a.style.top=`${t.pageY-o}px`}}function pt(t){if(k=!1,w=`${t.pageX},${t.pageY}`,mt(w),w="",Array.from(v.children).filter(o=>o.classList.contains("liView")).length===0&&m){const o=n(".endOfGame");setTimeout(()=>{f(o),f(q)},1e3)}document.removeEventListener("mousemove",D)}function mt(t){const[e,o]=t.split(","),{top:s,bottom:d,left:g,right:l}=dt.getBoundingClientRect();if(e>=g&&e<=l&&o>=s&&o<=d){let i=a.dataset.species;h(N),a.remove(),ht(i)?(f(Y),m="yes",R({lang:r,value:10}),E&&x.play()):(f(G),m="no",E&&_.play())}}function ht(t){return(L(r)?ot:et).includes(t)}const Lt=n(".buttonLang");Lt.addEventListener("click",()=>it(v,R,O));const A=n(".controlPanelShowListEn"),S=n(".controlPanelShowListRu"),Et=n(".endOfGame"),yt=n(".btnClose"),I=n(".listOfAllowedFood");let C=!1;yt.addEventListener("click",U);const W=n(".congratulationWrap"),X=n(".hippoEndOfGame"),M=n(".congratulationWrapRu");function P(t=[],e=[]){t.forEach(f),e.forEach(h)}function U(){C&&(P([L(r)?W:M,X]),L(r)?(A.classList.remove("buttonHide"),S.classList.add("buttonHide")):(S.classList.remove("buttonHide"),A.classList.add("buttonHide")),I.classList.toggle("active"),C=!1),P([],[Et,q]),F()}const B=n(".controlPanel");B.addEventListener("click",t=>{t.target.classList.contains("controlPanelShowList")&&(P([],[W,M,X]),A.classList.add("buttonHide"),S.classList.add("buttonHide"),C=!0,I.classList.toggle("active"),B.style.top="1%"),t.target.classList.contains("controlPanelplayAgain")&&(U(),O(r,v),F(),R({lang:r,reset:!0}))});window.addEventListener("load",async()=>{const{createFirefly:t}=await b(async()=>{const{createFirefly:e}=await import("./firefly-CpKS8B-x.js");return{createFirefly:e}},__vite__mapDeps([0,1,2]));t()});console.log("User name is",window.localStorage.getItem("userName")??"unknown");export{n as g};
