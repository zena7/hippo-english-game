(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function e(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=e(n);fetch(n.href,i)}})();const X="/hippo-english-game/assets/soundNo-CfWvAgdT.mp3",V="/hippo-english-game/assets/soundYes-bHlQI4kD.mp3",q=["Рыба","Трава","Орехи","Водяные растения","Сено","Листья","Фрукты (яблоки, арбузы, бананы)","Огурцы","Морковь","Конфеты","Капуста","Свёкла","Лук","Чеснок","Тыква","Брокколи","Цитрусовые (апельсины, лимоны, грейпфруты)","Мясо","Чай","Картофель","Грибы"],D=["Fish","Grass","Nuts","Aquatic plants","Hay","Leaves","Fruits (apples, watermelons, bananas)","Cucumbers","Carrots","Candies","Cabbage","Beets","Onion","Garlic","Pumpkin","Broccoli","Meat","Citrus fruits (oranges, lemons, grapefruits)","Tea","Potatoes","Mushrooms"],j=["Трава","Водяные растения","Сено","Листья","Фрукты (яблоки, арбузы, бананы)","Огурцы","Морковь","Капуста","Свёкла","Тыква","Брокколи"],K=["Grass","Aquatic plants","Hay","Leaves","Fruits (apples, watermelons, bananas)","Cucumbers","Carrots","Cabbage","Beets","Pumpkin","Broccoli"],s=t=>document.querySelector(t),p=t=>t.style.display="none",d=t=>t.style.display="block";function u({node:t,act:o="add",className:e="buttonHide"}={}){({add:()=>t.classList.add(e),remove:()=>t.classList.remove(e)})[o]()}let c="Ru";const Q=t=>c=t;let m=!0;const U=t=>m=t,g=t=>t==="En",S=(t,o)=>{t.forEach(e=>u({node:e})),o.forEach(e=>u({node:e,act:"remove"}))};function z(t,o,e){const[a,n,i,r]=Array.from(document.querySelectorAll(".controlPanelBtn")),h=s(".congratulationWrapRu"),H=s(".congratulationWrap");J(),e(c,t),o({lang:c}),g(c)?(d(H),p(h),S([n,r],[a,i])):(d(h),p(H),S([a,i],[n,r]))}function J(){const t=s(".language");Q(t.textContent==="Ru"?"En":"Ru"),t.textContent=c}function Z(){const t=s(".volumeYes"),o=s(".volumeNo");U(!m),m?(u({node:t,act:"remove"}),u({node:o})):(u({node:o,act:"remove"}),u({node:t}))}const _=s(".firefly-container"),R=()=>{const e=document.createElement("div");e.classList.add("firefly");const a=Math.random()*window.innerWidth,n=Math.random()*(window.innerHeight/1.5),i=Math.floor(Math.random()*18+4);e.style.left=`${a}px`,e.style.bottom=`${n}px`,e.style.width=`${i}px`,e.style.height=`${i}px`,_.appendChild(e),setTimeout(()=>{e.remove()},5e3);const r=Math.ceil(Math.random()*700+300);setTimeout(R,r)},tt=s(".busket"),y=s(".food"),M=document.querySelectorAll(".hippo")[0],N=s(".hippoYes"),T=s(".hippoNo");R();const F=s(".score").firstElementChild,x=({lang:t="Ru",value:o=0,reset:e=!1})=>{let[a,n]=F.textContent.split(" ");a=g(t)?"Score":"Очки",F.textContent=`${a} ${e?0:Number(n)+o}`};function C(t,o){let e=g(t)?D:q;o.innerHTML="",e.forEach(a=>{o.insertAdjacentHTML("beforeend",`<li class="liView"><h1 data-species="${a}" >${a}</h1></li>`)})}const et=new Audio(V),ot=new Audio(X),nt=s(".audio");nt.addEventListener("click",()=>{Z()});const Y=s(".endOfGameBackground");let O=!1,L="";C(c,y);document.addEventListener("mousedown",st);let l=null,f=null;const A=()=>{f==="yes"&&p(N),f==="no"&&p(T),d(M),f=null};function st(t){if(t.preventDefault(),t.target.tagName==="H1"){O=!0,A();const o=t.target.getBoundingClientRect(),e=t.pageX-o.left,a=t.pageY-o.top;t.target.classList.contains("duplicate")?l=t.target:(l=t.target.cloneNode(!0),l.classList.add("duplicate"),t.target.parentNode.classList.toggle("liView"),l.classList.add("liView"),t.target.style.visibility="hidden",l.style.left=`${t.pageX-e}px`,l.style.top=`${t.pageY-a}px`,document.body.append(l),l.style.padding="0.8rem 0.7rem",l.style.position="absolute"),l.dataset.offsetX=e,l.dataset.offsetY=a,document.addEventListener("mousemove",$),document.addEventListener("mouseup",at,{once:!0})}}function $(t){if(t.preventDefault(),O){const o=parseFloat(l.dataset.offsetX),e=parseFloat(l.dataset.offsetY);l.style.left=`${t.pageX-o}px`,l.style.top=`${t.pageY-e}px`}}function at(t){if(O=!1,L=`${t.pageX},${t.pageY}`,it(L),L="",Array.from(y.children).filter(e=>e.classList.contains("liView")).length===0&&f){const e=s(".endOfGame");setTimeout(()=>{d(e),d(Y)},1e3)}document.removeEventListener("mousemove",$)}function it(t){const[o,e]=t.split(","),{top:a,bottom:n,left:i,right:r}=tt.getBoundingClientRect();if(o>=i&&o<=r&&e>=a&&e<=n){let h=l.dataset.species;p(M),l.remove(),lt(h)?(d(N),f="yes",x({lang:c,value:10}),m&&et.play()):(d(T),f="no",m&&ot.play())}}function lt(t){return(g(c)?K:j).includes(t)}const ct=s(".buttonLang");ct.addEventListener("click",()=>z(y,x,C));const b=s(".controlPanelShowListEn"),v=s(".controlPanelShowListRu"),rt=s(".endOfGame"),dt=s(".btnClose"),B=s(".listOfAllowedFood");let E=!1;dt.addEventListener("click",k);const G=s(".congratulationWrap"),W=s(".hippoEndOfGame"),I=s(".congratulationWrapRu");function w(t=[],o=[]){t.forEach(d),o.forEach(p)}function k(){E&&(w([g(c)?G:I,W]),g(c)?(b.classList.remove("buttonHide"),v.classList.add("buttonHide")):(v.classList.remove("buttonHide"),b.classList.add("buttonHide")),B.classList.toggle("active"),E=!1),w([],[rt,Y]),A()}const P=s(".controlPanel");P.addEventListener("click",t=>{t.target.classList.contains("controlPanelShowList")&&(w([],[G,I,W]),b.classList.add("buttonHide"),v.classList.add("buttonHide"),E=!0,B.classList.toggle("active"),P.style.top="1%"),t.target.classList.contains("controlPanelplayAgain")&&(k(),C(c,y),A(),x({lang:c,reset:!0}))});
